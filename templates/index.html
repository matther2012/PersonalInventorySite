{% extends "baseContent.html" %}

{%block title%}
Inventory
{%endblock%}

{% block content %}
	<div id="page-wrapper" style="padding-top: 27px;">
		<div class="row">
			
			<!-- Start: Welcome Header -->
			<div class="col-lg-12">
				<div class="jumbotron">
					<h2 style="margin-left: 20px;">Welcome back {{ name }} </h2>
						<p class="lead" style="margin-left: 20px;">
							<span class='text-info'>There are currently {{ totalItems }} items in inventory.</span>
						</p>
					</div>
				</div>
			</div>
			<!-- End: Welcome Header -->
			
			<div class="row">
				<div class="col-lg-12">
					<div class="panel panel-primary">
						
						<!-- Start: Table header -->
						<div class="panel-heading">
							All Items
						</div>
						<!-- End: Table header -->
						
						<!-- Start: Table Body -->
						<div class="panel-body">
							<div class="dataTable_wrapper">
								<table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
									<thead>
										<tr>
											<th>Serial Number</th>
											<th>Type</th>
											<th>Description</th>
											<th>Use</th>
											<th>Out To</th>
											<th>Date Out</th>
										</tr>
									</thead>
									<tbody>
										{% for q in query %}
											<tr>
												<!-- TODO this uses a get request -->
												<td><a href="{{ url_for('viewItem', serial=q.serialNumber) }}">{{ q.serialNumber }}</a></td>
												<td>{{ q.typeCategory }}</td>
												<td>{{ q.description }}</td>
												<td>{{ q.use }}</td>
												<td>{{ q.studentName }}</td>
												<td>{{ q.dateOut}}</td>
											</tr>
										{% endfor %}
									</tbody>
								</table>
							</div>
						</div>
						<!-- End: Table Body -->
						
					</div>
				</div>
			</div>
			
		</div>
	</div>
{%endblock%}

{% block scripts %}
	<script>
		$(document).ready(function() {
			$('#ddataTables-example').DataTable({
				responsive: true
			});
		});
	</script>
{% endblock %}
